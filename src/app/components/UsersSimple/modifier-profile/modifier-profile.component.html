<app-header></app-header>
<div class="container">
  <div class="profile-form-container">
    <h2>Modifier le profil</h2>
    
    <form [formGroup]="profileForm" (ngSubmit)="submitProfile()" novalidate>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" class="form-control" formControlName="email" placeholder="Entrez votre email" />
        <div *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched" class="error">
          Email invalide
        </div>
      </div>

      <div class="form-group">
        <label for="password">Mot de passe</label>
        <input type="password" id="password" class="form-control" formControlName="password" placeholder="Laissez vide pour ne pas changer" />
        <div *ngIf="profileForm.get('password')?.invalid && profileForm.get('password')?.touched" class="error">
          Le mot de passe doit contenir au moins 8 caractères
        </div>
      </div>

      <div class="form-group">
        <label for="nom">Nom</label>
        <input type="text" id="nom" class="form-control" formControlName="nom" placeholder="Entrez votre nom" />
        <div *ngIf="profileForm.get('nom')?.invalid && profileForm.get('nom')?.touched" class="error">
          Le nom est requis
        </div>
      </div>

      <div class="form-group">
        <label for="prenom">Prénom</label>
        <input type="text" id="prenom" class="form-control" formControlName="prenom" placeholder="Entrez votre prénom" />
        <div *ngIf="profileForm.get('prenom')?.invalid && profileForm.get('prenom')?.touched" class="error">
          Le prénom est requis
        </div>
      </div>

      <div class="form-group">
        <label for="telephone">Téléphone</label>
        <input type="text" id="telephone" class="form-control" formControlName="telephone" placeholder="Entrez votre numéro de téléphone" />
        <div *ngIf="profileForm.get('telephone')?.invalid && profileForm.get('telephone')?.touched" class="error">
          Numéro de téléphone invalide
        </div>
      </div>

      <div class="form-group">
        <label for="adresse">Adresse</label>
        <input type="text" id="adresse" class="form-control" formControlName="adresse" placeholder="Entrez votre adresse" />
      </div>

      <div class="form-group">
        <label for="sexe">Sexe</label>
        <select id="sexe" class="form-control" formControlName="sexe">
          
          <option value="M">Homme</option>
          <option value="F">Femme</option>
        </select>
      </div>

      <div class="form-group">
        <label for="date_naiss">Date de Naissance</label>
        <input type="date" id="date_naiss" class="form-control" formControlName="date_naiss" />
      </div>

      <div class="form-group">
        <label for="profession">Profession</label>
        <input type="text" id="profession" class="form-control" formControlName="profession" placeholder="Entrez votre profession" />
      </div>

      <div class="form-group">
        <label for="groupe_sanguin">Groupe Sanguin</label>
        <input type="text" id="groupe_sanguin" class="form-control" formControlName="groupe_sanguin" placeholder="Entrez votre groupe sanguin" />
      </div>

      <div class="form-group">
        <label for="photo">Photo</label>
        <input type="file" id="photo" class="form-control" (change)="onFileChange($event)" />
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="loading || profileForm.invalid">
        {{ loading ? 'Mise à jour...' : 'Mettre à jour le profil' }}
      </button>
    </form>
  </div>
</div>
<app-footer></app-footer>
